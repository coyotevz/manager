{% extends "business/layout.html" %}

{% block title %}Cuentas{% endblock %}
{% set buz_active_page = 'accounts' %}

{% macro render_account(acc) %}
<li>
  {% if acc.has_childs %}
  <span class="font-weight-bold">{{ acc.name }}</span>
  <ol>
    {% for child in acc.children %}
      {{ render_account(child) }}
    {% endfor %}
  </ol>
  {% else %}
  <span>{{ acc.name }}</span>
  {% endif %}
</li>
{% endmacro %}

{% block buz %}
  <div class="card">
    <div class="card-header d-flex">
      <h5>Plan de cuentas</h5>
      <button class="btn btn-primary btn-sm ml-auto">Nueva Cuenta</button>
    </div>
    <div class="card-block">
      <ol>
        {% for account in accounts %}
          {{ render_account(account) }}
        {% endfor %}
      </ol>
    </div>
  </div>
{% endblock %}
